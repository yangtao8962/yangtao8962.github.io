(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{436:function(t,a,s){"use strict";s.r(a);var e=s(56),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"数据卷详解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据卷详解"}},[t._v("#")]),t._v(" 数据卷详解")]),t._v(" "),s("h3",{attrs:{id:"数据卷作用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据卷作用"}},[t._v("#")]),t._v(" 数据卷作用")]),t._v(" "),s("p",[t._v("完成容器与宿主机之间的==资源共享==")]),t._v(" "),s("h3",{attrs:{id:"数据卷特点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据卷特点"}},[t._v("#")]),t._v(" 数据卷特点")]),t._v(" "),s("ol",[s("li",[t._v("数据卷可以在容器之间共享和重用")]),t._v(" "),s("li",[t._v("对数据卷的修改会立即影响到对应的容器")]),t._v(" "),s("li",[t._v("对数据卷的更新不会影响镜像")]),t._v(" "),s("li",[t._v("数据卷一直存在，即使容器被删除")])]),t._v(" "),s("blockquote",[s("p",[t._v("注意："),s("code",[t._v("数据卷")]),t._v(" 的使用，类似于 Linux 下对目录或文件进行 mount，镜像中的被指定为挂载点的目录中的文件会复制到数据卷中（仅数据卷为空时会复制）。")])]),t._v(" "),s("h3",{attrs:{id:"命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命令"}},[t._v("#")]),t._v(" 命令")]),t._v(" "),s("h5",{attrs:{id:"创建数据卷-自动、手动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建数据卷-自动、手动"}},[t._v("#")]),t._v(" 创建数据卷(自动、手动)")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" run -v 宿主机绝对路径"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("任意别名:/容器内的路径 镜像名\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" run -v 宿主机绝对路径"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("任意别名:/容器内的路径:ro 镜像名\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ro容器只能读不能写")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" volume create 数据卷名\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" run -d -p "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),t._v(":8080 --name tomcat01 -v /root/apps:/usr/local/tomcat/webapps tomcat:8.0-jre8.0\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 只能在启动时指定数据卷且启动后会覆盖容器内目录下原有文件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" run -d -p "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),t._v(":8080 --name tomcat01 -v aa:/usr/local/tomcat/webapps tomcat:8.0-jre8.0\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# aa代表一个数据卷名字，随便写，不存在则自动创建数据卷同时自动映射宿主机中某个目录，同时将容器目录文件复制到宿主机中")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" volume create bb\n")])])]),s("h5",{attrs:{id:"查看数据卷"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看数据卷"}},[t._v("#")]),t._v(" 查看数据卷")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" volume "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" volume inspect 卷名\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" volume inspect aa\n")])])]),s("h5",{attrs:{id:"删除数据卷"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除数据卷"}},[t._v("#")]),t._v(" 删除数据卷")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" volume prune \t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 移除所有未使用的")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" volume "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" 卷名\t\t  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 移除指定的")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" volume "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" aa\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);