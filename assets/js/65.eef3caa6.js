(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{463:function(t,e,r){"use strict";r.r(e);var s=r(56),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h2",{attrs:{id:"作用"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#作用"}},[t._v("#")]),t._v(" 作用")]),t._v(" "),r("ul",[r("li",[t._v("消息中间件，接收、存储并转发消息")])]),t._v(" "),r("h2",{attrs:{id:"核心"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#核心"}},[t._v("#")]),t._v(" 核心")]),t._v(" "),r("ul",[r("li",[t._v("生产者：产生数据发送消息的程序")]),t._v(" "),r("li",[t._v("交换机：一方面它接收来自生产者的消息，另一方面它将消息推送到队列中，或丢弃")]),t._v(" "),r("li",[t._v("队列：一种数据结构，存储消息，本质是一个消息缓冲区")]),t._v(" "),r("li",[t._v("消费者：从队列中获取消息的程序")])]),t._v(" "),r("h2",{attrs:{id:"结构"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#结构"}},[t._v("#")]),t._v(" 结构")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://gitee.com/yangtao8453/picgo/raw/master/img/image-20220304115618182.png",alt:"image-20220304115618182"}})]),t._v(" "),r("ul",[r("li",[r("p",[r("strong",[t._v("Broker")]),t._v("：接收和分发消息的应用，RabbitMQ Server 就是 Message Broker")])]),t._v(" "),r("li",[r("p",[r("strong",[t._v("Virtual host")]),t._v("：出于多租户和安全因素设计的，把 AMQP 的基本组件划分到一个虚拟的分组中，类似于网络中的 namespace 概念。当多个不同的用户使用同一个 RabbitMQ server 提供的服务时，可以划分出多个 vhost，每个用户在自己的 vhost 创建 exchange／queue 等")])]),t._v(" "),r("li",[r("p",[r("strong",[t._v("Connection")]),t._v("：publisher／consumer 和 broker 之间的 TCP 连接")])]),t._v(" "),r("li",[r("p",[r("strong",[t._v("Channel")]),t._v("：减少TCP连接的消耗，可看做是轻量级的Connection")])]),t._v(" "),r("li",[r("p",[r("strong",[t._v("Exchange")]),t._v("：message 到达 broker 的第一站，根据分发规则，匹配查询表中的 routing key，分发消息到 queue 中去。常用的类型有：direct (point-to-point), topic (publish-subscribe) 和 fanout  (multicast)")])]),t._v(" "),r("li",[r("p",[r("strong",[t._v("Queue")]),t._v("：消息最终被送到这里等待 consumer 取走")])]),t._v(" "),r("li",[r("p",[r("strong",[t._v("Binding")]),t._v("：exchange 和 queue 之间的虚拟连接，binding 中可以包含 routing key，Binding 信息被保存到 exchange 中的查询表中，用于 message 的分发依据")])])])])}),[],!1,null,null,null);e.default=n.exports}}]);