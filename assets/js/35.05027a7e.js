(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{433:function(a,t,s){"use strict";s.r(t);var n=s(56),r=Object(n.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"常用命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[a._v("#")]),a._v(" 常用命令")]),a._v(" "),s("h3",{attrs:{id:"辅助命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#辅助命令"}},[a._v("#")]),a._v(" 辅助命令")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" version\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" info\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" --help\n")])])]),s("h3",{attrs:{id:"images镜像命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#images镜像命令"}},[a._v("#")]),a._v(" images镜像命令")]),a._v(" "),s("h5",{attrs:{id:"查看本机中所有镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看本机中所有镜像"}},[a._v("#")]),a._v(" 查看本机中所有镜像")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" images "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n\t-a：列出所有镜像（包含中间映像层）\n\t-q：只显示镜像id\n\tname：只搜索相关的iamges，相当于过滤条件\n\t\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" images\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" images -aq\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" images -aq mysql\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" images mysql\n")])])]),s("h5",{attrs:{id:"搜索镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#搜索镜像"}},[a._v("#")]),a._v(" 搜索镜像")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" search "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" 镜像名\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" search mysql\n")])])]),s("h5",{attrs:{id:"下载镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下载镜像"}},[a._v("#")]),a._v(" 下载镜像")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" pull 镜像名"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v(":TAG"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("@DIGEST"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" pull mysql:5.7.34\n")])])]),s("h5",{attrs:{id:"删除镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除镜像"}},[a._v("#")]),a._v(" 删除镜像")]),a._v(" "),s("p",[a._v("必须先停止相关容器，强制删除会一起将容器删除")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" image "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" 镜像名:tag "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" 镜像id\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" rmi 镜像名:tag "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" 镜像id\n\t-f：强制删除\n\t\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" image "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" d1165f221234\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" image "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" -f d11\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" rmi -f d11\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" rmi -f "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" images -q"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 使用组合命令删除所有镜像")]),a._v("\n")])])]),s("h3",{attrs:{id:"container容器命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#container容器命令"}},[a._v("#")]),a._v(" container容器命令")]),a._v(" "),s("h5",{attrs:{id:"导入tar到本地仓库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#导入tar到本地仓库"}},[a._v("#")]),a._v(" 导入tar到本地仓库")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" load -i 名称.tar\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" load -i mysql-5.7.tar\n")])])]),s("h5",{attrs:{id:"查看正在运行的容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看正在运行的容器"}},[a._v("#")]),a._v(" 查看正在运行的容器")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n\t-a：正在运行的和历史运行过的容器\n\t-q：只显示容器id（正在运行的）\n\t\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v(" -aq\n")])])]),s("h5",{attrs:{id:"运行容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运行容器"}},[a._v("#")]),a._v(" 运行容器")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" 镜像名:tag "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" 镜像id\n\t--name：为容器起一个别名\n\t-d：启动守护式容器（后台启动）\n\t-p：宿主机端口号:原始端口号 指定端口号启动，可以书写多个\n\t\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run -d --name MyTomcat -p "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8888")]),a._v(":8080 tomcat:"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$tag")]),a._v("\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 返回容器的运行id")]),a._v("\n")])])]),s("h5",{attrs:{id:"停止-关闭-重启容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#停止-关闭-重启容器"}},[a._v("#")]),a._v(" 停止|关闭|重启容器")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" start 容器名或id\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" restart 容器名或id\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" stop 容器名或id\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 容器瑞出前会做一些安全或保护操作")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("kill")]),a._v(" 容器名或id     \t"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 直接杀死，不管容器同不同意")]),a._v("\n")])])]),s("h5",{attrs:{id:"删除容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除容器"}},[a._v("#")]),a._v(" 删除容器")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" 容器名或id\n\t-f：强制删除正在运行的容器\n\t\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" -f tomcat01\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" -f "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v(" -aq"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 组合删除所有容器")]),a._v("\n")])])]),s("h5",{attrs:{id:"查看日志"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看日志"}},[a._v("#")]),a._v(" 查看日志")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" logs "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" 容器名或id\n\t-f：实时展示，必须在容器启动后\n\t-tf：实时展示，加入时间戳\n\t--tail：只显示容器日志尾部的5行\n\t\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" logs -tf MyTomcat\n")])])]),s("h5",{attrs:{id:"查看容器内的进程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看容器内的进程"}},[a._v("#")]),a._v(" 查看容器内的进程")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("top")]),a._v(" 容器名或id\n")])])]),s("h5",{attrs:{id:"查看容器内部细节"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看容器内部细节"}},[a._v("#")]),a._v(" 查看容器内部细节")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" inspect 容器名或id\n")])])]),s("h5",{attrs:{id:"进入容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进入容器"}},[a._v("#")]),a._v(" 进入容器")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" 容器名或id "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v("\n\t-i：以交互的模式运行容器\n\t-t：分配一个伪终端\n\t\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" -it 6b4 "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v("\n")])])]),s("h5",{attrs:{id:"容器与主机之间复制文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#容器与主机之间复制文件"}},[a._v("#")]),a._v(" 容器与主机之间复制文件")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" 文件"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("目录 容器名或id：容器内资源路径\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" 容器名或id：容器内资源路径 主机目录\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" a.txt 6b4:/usr/local/tomcat\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" 6b4:/usr/local/tomcat/RUNNING.txt ./RUNNING.txt\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 复制到当前路径，名为RUNNING.txt")]),a._v("\n")])])]),s("h5",{attrs:{id:"数据卷实现共享目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据卷实现共享目录"}},[a._v("#")]),a._v(" 数据卷实现共享目录")]),a._v(" "),s("p",[a._v("类似于VMware中虚拟机与物理主机的共享文件夹")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run -v 宿主机的路径"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("任意别名:/容器内的路径 镜像名\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run -v 宿主机的路径"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v("任意别名:/容器内的路径:ro 镜像名\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# ro容器只能读不能写")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run -d -p "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8080")]),a._v(":8080 --name tomcat01 -v /root/apps:/usr/local/tomcat/webapps tomcat:8.0-jre8.0\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 只能在启动时指定数据卷且启动后会覆盖容器内目录下原有文件")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run -d -p "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8080")]),a._v(":8080 --name tomcat01 -v aa:/usr/local/tomcat/webapps tomcat:8.0-jre8.0\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# aa代表一个数据卷名字，随便写，不存在则自动创建数据卷同时自动映射宿主机中某个目录，同时将容器目录文件复制到宿主机中")]),a._v("\n")])])]),s("p",[a._v("好处：配置映射后，即使将容器删除了，但写的内容还会保存在宿主机中")]),a._v(" "),s("h5",{attrs:{id:"容器打包成镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#容器打包成镜像"}},[a._v("#")]),a._v(" 容器打包成镜像")]),a._v(" "),s("p",[a._v("容器打包期间会暂停运行")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" commit -m "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"描述信息"')]),a._v(" -a "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"作者信息"')]),a._v(" （容器id或者名称） 打包的镜像名称:标签\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" commit -m "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"test.war"')]),a._v(" -a "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"yt"')]),a._v(" 91f test-tomcat:1.0\n")])])]),s("h5",{attrs:{id:"将镜像打成tar包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#将镜像打成tar包"}},[a._v("#")]),a._v(" 将镜像打成tar包")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" save 镜像名 -o  名称.tar\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" save test-tomcat:1.0 -o test-tomcat-1.0.tar\n")])])]),s("h5",{attrs:{id:"载入镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#载入镜像"}},[a._v("#")]),a._v(" 载入镜像")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" load -i 名称.tar\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" load -i test-tomcat-1.0.tar\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);